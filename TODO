
TODO bugs/features:

- time set causes desyncs when done with /gamerule dodaynightcycle false
- workers are not marked as idle until 15s after stopping gathering

- Tutorial documentation/gifs

- test compatibility with a performance improvement mod (eg. optifine)




blazes should get an attack ground option (targets the block above the targeted one)

Stop passengers looking at their last target after a stop action

ghast shots sometimes dont damage buildings


Blazes: upgrade ideas
    - short range flamethrower toggle?

piglins
    - ensure portals dont actually send people to the nether
        - maybe make a custom block so we can also customise colour?
    - apply leaf disappearance logic to mycelium leaves
    - apply the tall-tree felling logic to mycelium trees


TODO test in next playtest

- ghasts should have higher vision range
ravager roars damage buildings
ghast attacker range bonuses
- check that retaliate doesnt redirect melee and ghasts from attacking a building
- ranged units should be able to aggro properly in and against garrisons'
- melee unit should not retaliate against garrisoned units or flying units


TODO weird ideas

Endermen: can place liquids??
Research: spiders can place webs (limit of 3 per spider lifetime)
    - if implemented, remove research to mount?

Monsters Research: Creepers explode with harming cloud effects
Monsters Research: Villagers can build Iron Golems (treated as buildings but become iron golem units on completion)

Monsters: static defense that curses a unit with insomnia - causes phantoms to encircle them and attack periodically
Monsters: some ability (for zombies?) that converts enemies into zombie villagers/zombie pigmen


TODO buildings/units (backlog)


Piglins faction
    All piglin buildings slowly convert non-nether blocks around them into nether counterparts:
        - Grass -> nylium
        - Sand -> soulsand
        - Stone -> netherrack, etc.
        - Water -> lava
    Piglin buildings apart from the Bastion and portals can only be built on nether blocks

    Piglins do not produce their own units, but instead (like Protoss) bring units in from the nether using portals
    - (Capitol) Central Portal
        - blackstone-themed building with a decorated standard purple portal at the centre
        - can build any unit as long as you have the appropriate supporting building/research
        - produces units faster than any other production building
        - only one allowed at any time

    - Inactive portal
        - Simple inactive portal on a pedestal
        - Can be upgraded to specialise (and gain appropriate decorations):
            - Military portal (red): produces military units
            - Civilian portal (green): can drop off resources and supports 15 population
            - Transport portal (blue) (requires lategame research): can teleport units to a linked portal
    - Netherwart farm
    - Bastion
        - Allows military piglins and hoglins (after an upgrade) to be produced at portals
        - Researches regular upgrades
        - piglin brute
            - melee sword infantry
            - can be upgraded to hold a shield and toggle to halve projectile damage and movement speed (like footmen in wc3)
        - piglin headhunter
            - ranged trident infantry (should reskin to red to look like pitchforks)
            - can be upgraded to cause knockback on hit

    - Hoglin Ranch
        - Allows hoglins to be produced at military portals
            - light-medium bruiser
            - can be upgraded to be mounted by headhunters
    - Flame Sanctuary
        - Allows magma cubes and blazes (after an upgrade) to be produced at military portals
        - Researches fire-related upgrades
    - Wither Shrine
        - Allows wither skeletons to be produced at military portals
        - Researches wither-related upgrades
    - Fortress
        - Allows Ghasts to be produced at military portals (long-range ranged sieger)
            - probably needs a size decrease
            - flies a set Y height above the ground
        - garrisonable (holds up to 10 units)
        - upgrade to allow construction of transport portals







TODO tutorial docs

1. Welcome
     - Explaining what the game is about
     - Explaining the game is supposed to be match-based
        - reset on server restart
     - Win condition by destroying opponent's capitol
     - /startrts to start

2. Camera controls
    - top down isometric
    - toggle with F12
    - moving the camera:
        - move mouse to edge of camera
        - alt drag left click
        - minimap (see sec.4)
    - alt scroll to zoom
    - alt drag right click to rotate

3. Unit controls
    If you are an RTS veteran, you can probably skip this section

    selection
        - selection/box-select/double-click-select [gif]
        - selecting different types of units in a group [gif]
        - control groups [gif]
        - click portrait to centre camera on unit
        - F1 to deselect everything

    movement
        - right click move [gif]
        - right click friendly unit to follow
        - hold position - won't move for any reason but will still attack anything in range
        - stop

    combat and stats
        - right click enemy unit or building to attack [gif]
            - ranged units can't attack buildings
        - attack command
            - attack move [gif]
            - force attack friendly
        - units will auto attack enemies they see
        - stats explanations [img]

    casters and abilities
        - cooldowns
        - evoker example [gif]

4. Buildings
    Explanation of how buildings exist and are tracked
    All workers can build buildings for their faction

    Construction [gif]
        - Must be on relatively flat ground
        - Scroll to rotate
        - Assign workers with right click

    Damage and repair [gif]
        - block-count based
        - destroyed at 50% blocks remaining
        - Repair with workers
        - more workers = faster

    Production buildings
        - Rally points [img]
        - Can select multiple
        - Bronze border == research
        - units require population to build


5. Resources and gathering
    Basic explanation

    Resource types [img]
        - food
        - wood
        - ore
    How to gather
        - right click on block or farm [gif]
        - OR use passive gather toggles [img]
        - idle workers button [img]
    Capacity and dropoffs
        - Workers return when at max capacity
        - Can drop off at capitols and stockpiles [gif]
        - All units can hold 1 item over their max [img]
        - Items can be picked up as resources (eg. saplings == wood)
        - Military units can also pick up resourecs, raiding party time! [gif]
        - Drop all items with D

6. Minimap
    Controls
        - click to move camera
        - drag left click to move camera [gif]
        - shift-left-click to recentre map
        - M to open large map
    Attack warnings
        - click to move camera there [gif]
        - right click to ignore
    Clock
        - [img]
        - Undead burn in sunlight and monsters move much more slowly.

7. Fog of war
    - explanation of fog of war mechanics
    - /fog enable | disable for ops
    - showing how blocks are only updated when revealed [gif]


10. Known bugs and limitations





TODO vanilla player balancing/interaction (backlog)
- Balance strong player actions using food:
    - sprinting (very high)
    - attacking (medium)
    - gathering (low)
    - walking and jumping (low)
- Attacking any melee unit that's targeting a player should immediately deal its melee damage to them
- Punching disabled, combat and resource gathering can only be done if the player has tools/weapons
- Tools/weapons provided by the RTS player using resources
- Turned into a ghost on death - must walk back to a capitol building to be resurrected for a resource cost