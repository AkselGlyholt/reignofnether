
TODO bugs/features:

- time set causes desyncs when done with /gamerule dodaynightcycle false
- workers are not marked as idle until 15s after stopping gathering
- turning on fog of war causes a crash when optifine is installed

BRIDGES

- replace bridge blocvks with water if adjacent to water as well or currents form and trap units
- raise health and/or damage resistance massively
- dotted line pattern on planks instead of fences as initial build blocks
- exclude bridges from minimap entirely
- cant repair bridges on multiplayer
- don't replace fences with liquid



- attacking out of bastions is buggy - walls too high? - replace with walls instead
- replace obsidian with water for fake FrozenChunks

FOG:
    - patches of nether, buildings, etc. are still visible even in fully loaded chunks
        - loading and unloading sometimes updates more chunks

    - buildings partially in fog sometimes show negative hp on clientside
        - fix buidlserverhealth and packets

    - buildings disappear even when fully lit up (inconsistent, triggered by panning away and back)


BUGS:
    - stop grass breaking from loadBlocks() - same with PORTALS
        - FogOfWarClientEvents.syncClientBlocks
            - temporary solution in place: just don't replace 2+ high plant blocks...
            - this hack solution stops grass blocks below plants being updated
    - logging in/out of the world re-saves the blocks...
        - apply the same block-faking logic to all of these chunks
    - existing buildings partially in fog are VERY buggy when fog is turned on
        - disable toggling fog mid-game



TESTING STEPS:
    1. Turn on fog, start players as Piglins away from each other
    2. Scroll Client A far away from B until chunks are unloaded
    3. On Client B, build a portal and wait for nether to spread fully
    4. [Observe] On client A, move back into chunk load range
    5. [Observe] On Client A, place a unit outside of the view of the portal and move it in




[FOG OF WAR] playtest checklist:
--------------------------------
- buildings destroyed offscreen are updated correctly
- buildings placed offscreen are updated correctly
- destroyed buildings no longer have frozenchunks
- explored frozenchunks should not have any unsynced blocks
- night-warping buildings that are destroyed serverside but unexplored clientside should have their night-warping abilities disabled







TODO vanilla player balancing/interaction (backlog)
- Balance strong player actions using food:
    - sprinting (very high)
    - attacking (medium)
    - gathering (low)
    - walking and jumping (low)
- Attacking any melee unit that's targeting a player should immediately deal its melee damage to them
- Punching disabled, combat and resource gathering can only be done if the player has tools/weapons
- Turned into a ghost on death - must walk back to a capitol building to be resurrected for a resource cost
- Tools/weapons provided by the RTS player using resources
- Items/utilities for non-RTS players should be produced at existing buildings:
    - Villagers
        - Stockpile - Wooden axe/pickaxe/shovel/hoe
        - Barracks - Weapons
        - Blacksmith - Armour
        - Arcane Tower - Potions
        - Library - Enchanting table
    - Monsters
        - Stockpile - Wooden axe/pickaxe/shovel/hoe
        - Laboratory - Armour + Potions
        - Dungeon - Weapons (via chests)
        - Mausoleum - Enchanting table (after upgrade)
    - Piglins
        - Military portal - Weapons + armor
        - Civilian Portal - Wooden axe/pickaxe/shovel/hoe
        - Flame Sanctuary - potions
        - Wither shrine - Enchanting table